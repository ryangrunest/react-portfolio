{"version":3,"file":"static/webpack/static/development/pages/shop.js.73bd2be48de1de86b784.hot-update.js","sources":["webpack:///./pages/shop.js","webpack:///./queries/shop.js"],"sourcesContent":["import { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport fetch from \"isomorphic-unfetch\";\nimport queries from \"../queries/shop.js\";\n\n// const client = new Client(typeBundle, {\n//   url: \"https://another-test-store-97213.myshopify.com/api/graphql\",\n//   fetcherOptions: {\n//     headers: {\n//       \"X-Shopify-Storefront-Access-Token\": \"5db76a7bcd70717eade01e6a64392829\"\n//     }\n//   }\n// });\n\nlet query1 = `query\t{\n  products(first:1)\t{\n    edges {\n      node {\n        id\n        title\n        images(first: 1) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n        priceRange {\n          maxVariantPrice {\n            amount\n          }\n        }\n      }\n    }\n  }\n}`;\n\nclass Shop extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shopName: \"\",\n      products: []\n    };\n  }\n\n  componentDidMount() {\n    // let query = client.query(root => {\n    //   root.add(\"products\", { args: { first: 10 } }, product => {\n    //     product.add(\"title\");\n    //   });\n    //   // root.add(\"shop\", shop => {\n    //   //   shop.add(\"name\");\n    //   //   shop.addConnection(\"products\", { args: { first: 10 } }, product => {\n    //   //     product.add(\"title\");\n    //   //     product.add(\"description\");\n    //   //     product.addConnection(\"images\", { args: { first: 1 } }, image => {\n    //   //       image.add(\"id\");\n    //   //     });\n    //   //   });\n    //   // });\n    // });\n    // client.send(query).then(({ model, data }) => {\n    //   console.log(data);\n    //   // this.setState({\n    //   //   shopName: data.shop.name,\n    //   //   products: data.shop.products.edges\n    //   // });\n    //   // console.log(model); // The serialized model with rich features\n    //   // console.log(data); // The raw data returned from the API endpoint\n    //   // console.log(name);\n    // });\n    fetch(\"https://another-test-store-97213.myshopify.com/api/graphql\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/graphql\",\n        \"X-Shopify-Storefront-Access-Token\": \"5db76a7bcd70717eade01e6a64392829\"\n      },\n      body: queries.getProductsWithImages(1)\n    })\n      .then(r => r.json())\n      .then(data => console.log(data));\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <Layout page=\"Shop\">\n        <h2>{this.state.shopName}</h2>\n        <p>This will eventually connect to a shopify store.</p>\n      </Layout>\n    );\n  }\n}\n\nexport default Shop;\n","let queries = {\n  getProductsWithImages: numberOfProducts => {\n    return `query\t{\n      products(first:${numberOfProducts})\t{\n        edges {\n          node {\n            id\n            title\n            images(first: 1) {\n              edges {\n                node {\n                  id\n                }\n              }\n            }\n            priceRange {\n              maxVariantPrice {\n                amount\n              }\n            }\n          }\n        }\n      }\n    }`;\n  }\n};\n\nexport default queries;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAsBA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAvDA;AACA;AAyDA;;;;;;;;;;;;AC/FA;AAAA;AACA;AACA;AAsBA;AAxBA;AA2BA;;;;A","sourceRoot":""}