{"ast":null,"code":"var _jsxFileName = \"/Users/rgrunest/Developer/react-portfolio/pages/shop.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport Product from \"../components/shop/Product\";\nimport queries from \"../queries/shop.js\";\n\nclass Shop extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shopName: \"\",\n      products: [],\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    // queries.getShopName.then(data =>\n    //   this.setState({ shopName: data, isLoaded: true })\n    // );\n    // queries.getProductsWithImages(10).then(value => {\n    //   this.setState({ products: value, isLoaded: true });\n    // });\n    const url = \"https://another-test-store-97213.myshopify.com/api/graphql\";\n    const headers = {\n      \"Content-Type\": \"application/graphql\",\n      \"X-Shopify-Storefront-Access-Token\": \"5db76a7bcd70717eade01e6a64392829\"\n    };\n    let query = `query\t{\n  products(first:${numberOfProducts})\t{\n    edges {\n      node {\n        id\n        title\n        images(first: 1) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n        priceRange {\n          maxVariantPrice {\n            amount\n          }\n        }\n      }\n    }\n  }\n}`;\n    fetch(url, {\n      method: \"post\",\n      headers: headers,\n      body: query\n    }).then(r => r.json()).then(data => {\n      this.setState({\n        products: data.data.products.edges\n      });\n    });\n  }\n\n  render() {\n    // console.log(this.state);\n    const {\n      isLoaded,\n      shopName,\n      products\n    } = this.state;\n    console.log(products);\n\n    if (!isLoaded) {\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Loading...\");\n    } else {\n      return __jsx(Layout, {\n        page: \"Shop\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"This will eventually connect to a shopify store.\"), __jsx(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, shopName), __jsx(\"div\", {\n        className: \"products-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, products.map((product, index) => {\n        __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, product.node.title);\n      })));\n    }\n  }\n\n}\n\nexport default Shop;","map":{"version":3,"sources":["/Users/rgrunest/Developer/react-portfolio/pages/shop.js"],"names":["Component","Layout","Product","queries","Shop","constructor","props","state","shopName","products","isLoaded","componentDidMount","url","headers","query","numberOfProducts","fetch","method","body","then","r","json","data","setState","edges","render","console","log","map","product","index","node","title"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,OAAP,MAAoB,oBAApB;;AAEA,MAAMC,IAAN,SAAmBJ,SAAnB,CAA6B;AAC3BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAE,EAFC;AAGXC,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,UAAMC,GAAG,GAAG,4DAAZ;AACA,UAAMC,OAAO,GAAG;AACd,sBAAgB,qBADF;AAEd,2CAAqC;AAFvB,KAAhB;AAIA,QAAIC,KAAK,GAAI;mBACEC,gBAAiB;;;;;;;;;;;;;;;;;;;;EADhC;AAsBAC,IAAAA,KAAK,CAACJ,GAAD,EAAM;AACTK,MAAAA,MAAM,EAAE,MADC;AAETJ,MAAAA,OAAO,EAAEA,OAFA;AAGTK,MAAAA,IAAI,EAAEJ;AAHG,KAAN,CAAL,CAKGK,IALH,CAKQC,CAAC,IAAIA,CAAC,CAACC,IAAF,EALb,EAMGF,IANH,CAMQG,IAAI,IAAI;AACZ,WAAKC,QAAL,CAAc;AAAEd,QAAAA,QAAQ,EAAEa,IAAI,CAACA,IAAL,CAAUb,QAAV,CAAmBe;AAA/B,OAAd;AACD,KARH;AASD;;AAEDC,EAAAA,MAAM,GAAG;AACP;AACA,UAAM;AAAEf,MAAAA,QAAF;AAAYF,MAAAA,QAAZ;AAAsBC,MAAAA;AAAtB,QAAmC,KAAKF,KAA9C;AACAmB,IAAAA,OAAO,CAACC,GAAR,CAAYlB,QAAZ;;AACA,QAAI,CAACC,QAAL,EAAe;AACb,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACD,KAFD,MAEO;AACL,aACE,MAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,QAAL,CAFF,EAGE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,QAAQ,CAACmB,GAAT,CAAa,CAACC,OAAD,EAAUC,KAAV,KAAoB;AAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAID,OAAO,CAACE,IAAR,CAAaC,KAAjB;AACD,OAFA,CADH,CAHF,CADF;AAWD;AACF;;AA1E0B;;AA6E7B,eAAe5B,IAAf","sourcesContent":["import { Component } from \"react\";\nimport Layout from \"../components/MyLayout\";\nimport Product from \"../components/shop/Product\";\nimport queries from \"../queries/shop.js\";\n\nclass Shop extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shopName: \"\",\n      products: [],\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    // queries.getShopName.then(data =>\n    //   this.setState({ shopName: data, isLoaded: true })\n    // );\n    // queries.getProductsWithImages(10).then(value => {\n    //   this.setState({ products: value, isLoaded: true });\n    // });\n    const url = \"https://another-test-store-97213.myshopify.com/api/graphql\";\n    const headers = {\n      \"Content-Type\": \"application/graphql\",\n      \"X-Shopify-Storefront-Access-Token\": \"5db76a7bcd70717eade01e6a64392829\"\n    };\n    let query = `query\t{\n  products(first:${numberOfProducts})\t{\n    edges {\n      node {\n        id\n        title\n        images(first: 1) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n        priceRange {\n          maxVariantPrice {\n            amount\n          }\n        }\n      }\n    }\n  }\n}`;\n    fetch(url, {\n      method: \"post\",\n      headers: headers,\n      body: query\n    })\n      .then(r => r.json())\n      .then(data => {\n        this.setState({ products: data.data.products.edges });\n      });\n  }\n\n  render() {\n    // console.log(this.state);\n    const { isLoaded, shopName, products } = this.state;\n    console.log(products);\n    if (!isLoaded) {\n      return <div>Loading...</div>;\n    } else {\n      return (\n        <Layout page=\"Shop\">\n          <p>This will eventually connect to a shopify store.</p>\n          <h2>{shopName}</h2>\n          <div className=\"products-container\">\n            {products.map((product, index) => {\n              <p>{product.node.title}</p>;\n            })}\n          </div>\n        </Layout>\n      );\n    }\n  }\n}\n\nexport default Shop;\n"]},"metadata":{},"sourceType":"module"}