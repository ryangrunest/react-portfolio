{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/rgrunest/Developer/react-portfolio/pages/blog.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n      mutation ($checkoutId: ID!, $lineItemIds: [ID!]!) {\\n        checkoutLineItemsRemove(checkoutId: $checkoutId, lineItemIds: $lineItemIds) {\\n          userErrors {\\n            message\\n            field\\n          }\\n          checkout {\\n            webUrl\\n            subtotalPrice\\n            totalTax\\n            totalPrice\\n            lineItems (first:250) {\\n              pageInfo {\\n                hasNextPage\\n                hasPreviousPage\\n              }\\n              edges {\\n                node {\\n                  title\\n                  variant {\\n                    title\\n                    image {\\n                      src\\n                    }\\n                    price\\n                  }\\n                  quantity\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n      mutation ($checkoutId: ID!, $lineItems: [CheckoutLineItemUpdateInput!]!) {\\n        checkoutLineItemsUpdate(checkoutId: $checkoutId, lineItems: $lineItems) {\\n          userErrors {\\n            message\\n            field\\n          }\\n          checkout {\\n            webUrl\\n            subtotalPrice\\n            totalTax\\n            totalPrice\\n            lineItems (first:250) {\\n              pageInfo {\\n                hasNextPage\\n                hasPreviousPage\\n              }\\n              edges {\\n                node {\\n                  title\\n                  variant {\\n                    title\\n                    image {\\n                      src\\n                    }\\n                    price\\n                  }\\n                  quantity\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n      mutation ($checkoutId: ID!, $lineItems: [CheckoutLineItemInput!]!) {\\n        checkoutLineItemsAdd(checkoutId: $checkoutId, lineItems: $lineItems) {\\n          userErrors {\\n            message\\n            field\\n          }\\n          checkout {\\n            webUrl\\n            subtotalPrice\\n            totalTax\\n            totalPrice\\n            lineItems (first:250) {\\n              pageInfo {\\n                hasNextPage\\n                hasPreviousPage\\n              }\\n              edges {\\n                node {\\n                  title\\n                  variant {\\n                    title\\n                    image {\\n                      src\\n                    }\\n                    price\\n                  }\\n                  quantity\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n      query {\\n        shop {\\n          name\\n          description\\n          products(first:20) {\\n            pageInfo {\\n              hasNextPage\\n              hasPreviousPage\\n            }\\n            edges {\\n              node {\\n                id\\n                title\\n                options {\\n                  name\\n                  values\\n                }\\n                variants(first: 250) {\\n                  pageInfo {\\n                    hasNextPage\\n                    hasPreviousPage\\n                  }\\n                  edges {\\n                    node {\\n                      title\\n                      selectedOptions {\\n                        name\\n                        value\\n                      }\\n                      image {\\n                        src\\n                      }\\n                      price\\n                    }\\n                  }\\n                }\\n                images(first: 250) {\\n                  pageInfo {\\n                    hasNextPage\\n                    hasPreviousPage\\n                  }\\n                  edges {\\n                    node {\\n                      src\\n                    }\\n                  }\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n      mutation {\\n        checkoutCreate(input: {}) {\\n          userErrors {\\n            message\\n            field\\n          }\\n          checkout {\\n            id\\n            webUrl\\n            subtotalPrice\\n            totalTax\\n            totalPrice\\n            lineItems (first:250) {\\n              pageInfo {\\n                hasNextPage\\n                hasPreviousPage\\n              }\\n              edges {\\n                node {\\n                  title\\n                  variant {\\n                    title\\n                    image {\\n                      src\\n                    }\\n                    price\\n                  }\\n                  quantity\\n                }\\n              }\\n            }\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport Products from \"../components/Products\";\nimport Cart from \"../components/Cart\";\nimport { gql } from \"babel-plugin-graphql-js-client-transform\";\nimport Layout from \"../components/MyLayout\";\nimport { useRouter } from \"next/router\";\nimport Client from \"graphql-js-client\";\nimport typeBundle from \"./types\";\nvar client = new Client(typeBundle, {\n  url: \"https://graphql.myshopify.com/api/graphql\",\n  fetcherOptions: {\n    headers: {\n      \"X-Shopify-Storefront-Access-Token\": \"dd4d4dc146542ba7763305d71d1b3d38\"\n    }\n  }\n});\n\nvar Blog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Blog, _Component);\n\n  function Blog() {\n    var _this;\n\n    _classCallCheck(this, Blog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Blog).call(this));\n    _this.state = {\n      isCartOpen: false,\n      checkout: {\n        lineItems: []\n      },\n      products: [],\n      shop: {}\n    };\n    _this.handleCartClose = _this.handleCartClose.bind(_assertThisInitialized(_this));\n    _this.addVariantToCart = _this.addVariantToCart.bind(_assertThisInitialized(_this));\n    _this.updateQuantityInCart = _this.updateQuantityInCart.bind(_assertThisInitialized(_this));\n    _this.removeLineItemInCart = _this.removeLineItemInCart.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Blog, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var client = this.props.client;\n      client.send(gql(client)(_templateObject())).then(function (res) {\n        _this2.setState({\n          checkout: res.model.checkoutCreate.checkout\n        });\n      });\n      client.send(gql(client)(_templateObject2())).then(function (res) {\n        _this2.setState({\n          shop: res.model.shop,\n          products: res.model.shop.products\n        });\n      });\n    }\n  }, {\n    key: \"addVariantToCart\",\n    value: function addVariantToCart(variantId, quantity) {\n      var _this3 = this;\n\n      this.setState({\n        isCartOpen: true\n      });\n      var lineItems = [{\n        variantId: variantId,\n        quantity: _parseInt(quantity, 10)\n      }];\n      var checkoutId = this.state.checkout.id;\n      return this.props.client.send(gql(this.props.client)(_templateObject3()), {\n        checkoutId: checkoutId,\n        lineItems: lineItems\n      }).then(function (res) {\n        _this3.setState({\n          checkout: res.model.checkoutLineItemsAdd.checkout\n        });\n      });\n    }\n  }, {\n    key: \"updateQuantityInCart\",\n    value: function updateQuantityInCart(lineItemId, quantity) {\n      var _this4 = this;\n\n      var checkoutId = this.state.checkout.id;\n      var lineItems = [{\n        id: lineItemId,\n        quantity: _parseInt(quantity, 10)\n      }];\n      return this.props.client.send(gql(this.props.client)(_templateObject4()), {\n        checkoutId: checkoutId,\n        lineItems: lineItems\n      }).then(function (res) {\n        _this4.setState({\n          checkout: res.model.checkoutLineItemsUpdate.checkout\n        });\n      });\n    }\n  }, {\n    key: \"removeLineItemInCart\",\n    value: function removeLineItemInCart(lineItemId) {\n      var _this5 = this;\n\n      var checkoutId = this.state.checkout.id;\n      return this.props.client.send(gql(this.props.client)(_templateObject5()), {\n        checkoutId: checkoutId,\n        lineItemIds: [lineItemId]\n      }).then(function (res) {\n        _this5.setState({\n          checkout: res.model.checkoutLineItemsRemove.checkout\n        });\n      });\n    }\n  }, {\n    key: \"handleCartClose\",\n    value: function handleCartClose() {\n      this.setState({\n        isCartOpen: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return __jsx(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, __jsx(\"header\", {\n        className: \"App__header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, !this.state.isCartOpen && __jsx(\"div\", {\n        className: \"App__view-cart-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        className: \"App__view-cart\",\n        onClick: function onClick() {\n          return _this6.setState({\n            isCartOpen: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Cart\")), __jsx(\"div\", {\n        className: \"App__title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, this.state.shop.name, \": React Example\"), __jsx(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, this.state.shop.description))), __jsx(Products, {\n        products: this.state.products,\n        addVariantToCart: this.addVariantToCart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }), __jsx(Cart, {\n        checkout: this.state.checkout,\n        isCartOpen: this.state.isCartOpen,\n        handleCartClose: this.handleCartClose,\n        updateQuantityInCart: this.updateQuantityInCart,\n        removeLineItemInCart: this.removeLineItemInCart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Blog;\n}(Component);\n\nexport default Blog; // export default function Blog() {\n//   console.log(client);\n//   return (\n//     <Layout page=\"Blog\">\n//       <p>This is the blog page.</p>\n//     </Layout>\n//   );\n// }","map":{"version":3,"sources":["/Users/rgrunest/Developer/react-portfolio/pages/blog.js"],"names":["React","Component","Products","Cart","gql","Layout","useRouter","Client","typeBundle","client","url","fetcherOptions","headers","Blog","state","isCartOpen","checkout","lineItems","products","shop","handleCartClose","bind","addVariantToCart","updateQuantityInCart","removeLineItemInCart","props","send","then","res","setState","model","checkoutCreate","variantId","quantity","checkoutId","id","checkoutLineItemsAdd","lineItemId","checkoutLineItemsUpdate","lineItemIds","checkoutLineItemsRemove","name","description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Products from \"../components/Products\";\nimport Cart from \"../components/Cart\";\nimport { gql } from \"babel-plugin-graphql-js-client-transform\";\nimport Layout from \"../components/MyLayout\";\nimport { useRouter } from \"next/router\";\nimport Client from \"graphql-js-client\";\nimport typeBundle from \"./types\";\n\nconst client = new Client(typeBundle, {\n  url: \"https://graphql.myshopify.com/api/graphql\",\n  fetcherOptions: {\n    headers: {\n      \"X-Shopify-Storefront-Access-Token\": \"dd4d4dc146542ba7763305d71d1b3d38\"\n    }\n  }\n});\n\nclass Blog extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isCartOpen: false,\n      checkout: { lineItems: [] },\n      products: [],\n      shop: {}\n    };\n\n    this.handleCartClose = this.handleCartClose.bind(this);\n    this.addVariantToCart = this.addVariantToCart.bind(this);\n    this.updateQuantityInCart = this.updateQuantityInCart.bind(this);\n    this.removeLineItemInCart = this.removeLineItemInCart.bind(this);\n  }\n\n  componentWillMount() {\n    const client = this.props.client;\n\n    client\n      .send(\n        gql(client)`\n      mutation {\n        checkoutCreate(input: {}) {\n          userErrors {\n            message\n            field\n          }\n          checkout {\n            id\n            webUrl\n            subtotalPrice\n            totalTax\n            totalPrice\n            lineItems (first:250) {\n              pageInfo {\n                hasNextPage\n                hasPreviousPage\n              }\n              edges {\n                node {\n                  title\n                  variant {\n                    title\n                    image {\n                      src\n                    }\n                    price\n                  }\n                  quantity\n                }\n              }\n            }\n          }\n        }\n      }\n    `\n      )\n      .then(res => {\n        this.setState({\n          checkout: res.model.checkoutCreate.checkout\n        });\n      });\n\n    client\n      .send(\n        gql(client)`\n      query {\n        shop {\n          name\n          description\n          products(first:20) {\n            pageInfo {\n              hasNextPage\n              hasPreviousPage\n            }\n            edges {\n              node {\n                id\n                title\n                options {\n                  name\n                  values\n                }\n                variants(first: 250) {\n                  pageInfo {\n                    hasNextPage\n                    hasPreviousPage\n                  }\n                  edges {\n                    node {\n                      title\n                      selectedOptions {\n                        name\n                        value\n                      }\n                      image {\n                        src\n                      }\n                      price\n                    }\n                  }\n                }\n                images(first: 250) {\n                  pageInfo {\n                    hasNextPage\n                    hasPreviousPage\n                  }\n                  edges {\n                    node {\n                      src\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    `\n      )\n      .then(res => {\n        this.setState({\n          shop: res.model.shop,\n          products: res.model.shop.products\n        });\n      });\n  }\n\n  addVariantToCart(variantId, quantity) {\n    this.setState({\n      isCartOpen: true\n    });\n\n    const lineItems = [{ variantId, quantity: parseInt(quantity, 10) }];\n    const checkoutId = this.state.checkout.id;\n\n    return this.props.client\n      .send(\n        gql(this.props.client)`\n      mutation ($checkoutId: ID!, $lineItems: [CheckoutLineItemInput!]!) {\n        checkoutLineItemsAdd(checkoutId: $checkoutId, lineItems: $lineItems) {\n          userErrors {\n            message\n            field\n          }\n          checkout {\n            webUrl\n            subtotalPrice\n            totalTax\n            totalPrice\n            lineItems (first:250) {\n              pageInfo {\n                hasNextPage\n                hasPreviousPage\n              }\n              edges {\n                node {\n                  title\n                  variant {\n                    title\n                    image {\n                      src\n                    }\n                    price\n                  }\n                  quantity\n                }\n              }\n            }\n          }\n        }\n      }\n    `,\n        { checkoutId, lineItems }\n      )\n      .then(res => {\n        this.setState({\n          checkout: res.model.checkoutLineItemsAdd.checkout\n        });\n      });\n  }\n\n  updateQuantityInCart(lineItemId, quantity) {\n    const checkoutId = this.state.checkout.id;\n    const lineItems = [{ id: lineItemId, quantity: parseInt(quantity, 10) }];\n\n    return this.props.client\n      .send(\n        gql(this.props.client)`\n      mutation ($checkoutId: ID!, $lineItems: [CheckoutLineItemUpdateInput!]!) {\n        checkoutLineItemsUpdate(checkoutId: $checkoutId, lineItems: $lineItems) {\n          userErrors {\n            message\n            field\n          }\n          checkout {\n            webUrl\n            subtotalPrice\n            totalTax\n            totalPrice\n            lineItems (first:250) {\n              pageInfo {\n                hasNextPage\n                hasPreviousPage\n              }\n              edges {\n                node {\n                  title\n                  variant {\n                    title\n                    image {\n                      src\n                    }\n                    price\n                  }\n                  quantity\n                }\n              }\n            }\n          }\n        }\n      }\n    `,\n        { checkoutId, lineItems }\n      )\n      .then(res => {\n        this.setState({\n          checkout: res.model.checkoutLineItemsUpdate.checkout\n        });\n      });\n  }\n\n  removeLineItemInCart(lineItemId) {\n    const checkoutId = this.state.checkout.id;\n\n    return this.props.client\n      .send(\n        gql(this.props.client)`\n      mutation ($checkoutId: ID!, $lineItemIds: [ID!]!) {\n        checkoutLineItemsRemove(checkoutId: $checkoutId, lineItemIds: $lineItemIds) {\n          userErrors {\n            message\n            field\n          }\n          checkout {\n            webUrl\n            subtotalPrice\n            totalTax\n            totalPrice\n            lineItems (first:250) {\n              pageInfo {\n                hasNextPage\n                hasPreviousPage\n              }\n              edges {\n                node {\n                  title\n                  variant {\n                    title\n                    image {\n                      src\n                    }\n                    price\n                  }\n                  quantity\n                }\n              }\n            }\n          }\n        }\n      }\n    `,\n        { checkoutId, lineItemIds: [lineItemId] }\n      )\n      .then(res => {\n        this.setState({\n          checkout: res.model.checkoutLineItemsRemove.checkout\n        });\n      });\n  }\n\n  handleCartClose() {\n    this.setState({\n      isCartOpen: false\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App__header\">\n          {!this.state.isCartOpen && (\n            <div className=\"App__view-cart-wrapper\">\n              <button\n                className=\"App__view-cart\"\n                onClick={() => this.setState({ isCartOpen: true })}\n              >\n                Cart\n              </button>\n            </div>\n          )}\n          <div className=\"App__title\">\n            <h1>{this.state.shop.name}: React Example</h1>\n            <h2>{this.state.shop.description}</h2>\n          </div>\n        </header>\n        <Products\n          products={this.state.products}\n          addVariantToCart={this.addVariantToCart}\n        />\n        <Cart\n          checkout={this.state.checkout}\n          isCartOpen={this.state.isCartOpen}\n          handleCartClose={this.handleCartClose}\n          updateQuantityInCart={this.updateQuantityInCart}\n          removeLineItemInCart={this.removeLineItemInCart}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Blog;\n\n// export default function Blog() {\n//   console.log(client);\n//   return (\n//     <Layout page=\"Blog\">\n//       <p>This is the blog page.</p>\n//     </Layout>\n//   );\n// }\n"]},"metadata":{},"sourceType":"module"}